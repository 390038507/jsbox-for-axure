{"version":3,"file":"axlib-jsbox-v2.min.js","sources":["../lib/main.js"],"sourcesContent":["/**\n * \n * AxLib - JsBox\n * \n * Author: WaveF\n * QQ: 298010937\n * \n * v2.4.10\n * - 基于vite构建\n * \n **/\n(function(){\n\n  const axlibPath = getDeploy({ gval: 'AxLib', defaultUrl: 'https://ax.minicg.com/axlib-v3.min.js' });\n\n  main();\n\n  function main() {\n    if (window.AxJsBox) {\n      console.error('请先加载 axlib!');\n      return;\n    }\n\n    window.AxJsBox = {\n      name: 'jsbox',\n      version: '2.4.10',\n      author: 'wavef',\n      contact: 'wavef@live.com',\n      instances: [],\n      log: function(textInfo, expand=true) {\n        const style = 'color:#06f;';\n        console[expand?'group':'groupCollapsed']('%cJSBOX', style);\n        console.log(textInfo);\n        console.groupEnd();\n      }\n    };\n\n    // 添加一个快速获取和设置id的方法\n    $.fn.id = function () {\n      if (arguments.length == 0) {\n        return this.attr('id');\n      } else if (arguments.length == 1) {\n        this.attr('id', arguments[0]);\n      }\n    };\n\n    // 如果要本地集成axlib，就把axlib.min.js的代码贴到开头，这时yepnope默认存在\n    if (!window.yepnope) {\n      getAxLib(axlibPath, inited);\n    } else {\n      inited();\n    }\n  }\n\n  function inited() {\n    /*// 在清空中继器数据的情况下仍然可用（由于兼容问题暂时封印）\n    let repTempScriptTags = $('script[type=axure-repeater-template]');\n    $.each(repTempScriptTags, (idx,item) => {\n      let repTempScriptContent = $(item).text();\n      let userScript;\n      if (repTempScriptContent.includes('ax-jsbox')) {\n        userScript = repTempScriptContent.split('\\<textarea')[1];\n        userScript = userScript.split('\\>').slice(1).join('\\>');\n        userScript = userScript.split('\\<\\/textarea\\>')[0];\n        userScript = unescapeHTML(userScript);\n        console.log(userScript);\n      }\n    });*/\n\n    let $jsboxes = $('div[class*=\"ax-jsbox\"]');\n    let repeaterIds = [];\n    $.each($jsboxes, (idx, item) => { repeaterIds.push($(item).parent().parent().id()); });\n    repeaterIds = [...new Set(repeaterIds)];\n\n    $.each(repeaterIds, (idx, item) => {\n      let $rep = $('#'+item);\n      let repId = $rep.id();\n      let rep = $axure(`#${repId}`);\n      let $wrapper = $rep.parent();\n      let $jsbox = $rep.children('div').eq(0).children('div[class*=ax-jsbox]');\n      let jsboxId = $jsbox.id();\n      let $textArea = $jsbox.find('textarea');\n      let $textAreas = $rep.find('textarea');\n      let textAreaId = $textArea.id();\n      let $shape = $jsbox.children(`#${jsboxId}_div`);\n      let shapeId = $shape.id();\n      let js = formatCode($textArea.val());\n      let jsLines = js.split('\\n');\n\n      let $view = cloneNode($rep);\n      let viewId = $view.id();\n      $view.insertAfter($rep);\n\n      let panelRawData = rep.getRepeaterDataOnce({format:'default'});\n      let extraRawData = rep.getRepeaterDataDiff({format:'default'});\n      // extraRawData.splice(0, panelRawData.length);\n\n      let filesInExtra = getFileListFromExtraData(extraRawData) || [], filesInTextarea = getFileListFromTextArea(jsLines) || [];\n      let files = filesInExtra.concat(filesInTextarea);\n      files = [...new Set(files)];\n\n      $rep.hide();\n      addLoadingSvg($view);\n\n      let formatInlineFunction = function (func) {\n        return func.toString().replace(/VIEW_ID/g, viewId).replace(/REP_ID/g, repId).replace(/JSBOX_ID/g, jsboxId).replace(/TEXTAREA_ID/g, textAreaId).replace(/  /g, '').trim();\n      };\n\n      let clearAllTextareas = function () {\n        $('#REP_ID').children('div').find('div[class*=\"ax-jsbox\"]').children('textarea').html('');\n      };\n\n      let getAllTextareas = function () {\n        return $('#REP_ID').children('div').find('div[class*=\"ax-jsbox\"]').children('textarea');\n      };\n\n      let getTextarea = function () {\n        return $axure('#TEXTAREA_ID');\n      };\n\n      let getRepeater = function () {\n        return $axure('#REP_ID');\n      };\n\n      let getView = function () {\n        return $axure('#VIEW_ID');\n      };\n\n      let runScript = function (jsUrl) {\n        $.get(jsUrl, script => eval(script));\n      };\n\n      let setText = function (text) {\n        $('#TEXTAREA_ID').val(text);\n      };\n\n      let getText = function () {\n        return $('#TEXTAREA_ID').val();\n      };\n\n      let setValues = function (arr, marker='/') {\n        $('#TEXTAREA_ID').val(marker + arr.join(marker));\n        return `[[ This.text.slice(This.text.split(\"${marker}\", 序号).length+1).split(\"${marker}\", 1) ]]`;\n      };\n\n      let emit = function (action, target) {\n        target = target || $axure('#JSBOX_ID');\n        if (action.toLowerCase() === 'moved') {\n          target.moveBy(0,0,{});\n        }\n        else if (action==='selected') {\n          target.selected(true);\n        }\n        else if (action==='unselected') {\n          target.selected(false);\n        }\n        else if (action==='toggleSelect') {\n          target.selected(!target.selected());\n        }\n      };\n\n      let showView = function (alpha, pointerEvents) {\n        alpha = alpha || 1;\n        pointerEvents = pointerEvents || true;\n        $('#VIEW_ID').show().css({\n          'opacity': alpha,\n          'pointer-events': pointerEvents ? 'auto' : 'none'\n        });\n      };\n\n      let hideView = function () {\n        $('#VIEW_ID').hide();\n      };\n\n      let setViewStyle = function(css) {\n        css = css == 'none' ? { 'border': 'none', 'background-color': 'transparent' } : css;\n        $('#VIEW_ID').css(css);\n      };\n\n      let showLoading = function () {\n        setTimeout(()=>{ $('#VIEW_ID').children('.ax-loading').show(); }, 0);\n      };\n\n      let hideLoading = function () {\n        setTimeout(()=>{ $('#VIEW_ID').children('.ax-loading').fadeOut(); }, 0);\n      };\n\n      let appendHTML = function (str, target) {\n        target = target || $('#VIEW_ID');\n        target.append(str);\n      };\n\n      let setHTML = function (str, target) {\n        target = target || $('#VIEW_ID');\n        target.html(str);\n      };\n\n      let appendCSS = function (str) {\n        $('head').append('<style>' + str + '</style>');\n      };\n\n      let getUserElements = function () {\n        let _els = [];\n        let wrapper = $('#REP_ID').children('div').eq(0);\n        \n        $.each(wrapper.children(), (idx,item) => {\n          if (!item.className.includes('ax-jsbox')) {\n            _els.push(item);\n          }\n        });\n        return _els;\n      };\n\n      let showUserElements = function () {\n        THIS.$view.append(THIS.getUserElements());\n      };\n\n      let getDataOnce = function (format) {\n        return $axure('#REP_ID').getRepeaterDataOnce(format);\n      };\n\n      let getExtraData = function (format) {\n        return $axure('#REP_ID').getRepeaterDataDiff(format);\n      };\n\n      let getLatestData = function (format) {\n        return $axure('#REP_ID').getRepeaterData(format);\n      };\n\n      let deleteData = function (linesCount) {\n        $axure('#REP_ID').deleteRepeaterData(linesCount);\n        $axure('#REP_ID').refreshRepeater();\n      };\n\n      let clearExtraData = function() {\n        let _exData = $axure('#REP_ID').getRepeaterDataDiff();\n        $axure('#REP_ID').deleteRepeaterData(_exData.length);\n        $axure('#REP_ID').refreshRepeater();\n      };\n\n      let clearData = function () {\n        $axure('#REP_ID').clearRepeaterData();\n        $axure('#REP_ID').refreshRepeater();\n      };\n      \n      let getNode = function (el) {\n        let _id, _node;\n        if (el.$ !== undefined) {\n          _id = el.$().attr('id');\n          _node = $(`#${_id}`).get(0);\n        } else if (el.jquery !== undefined) {\n          _id = el.attr('id');\n          _node = $(`#${_id}`).get(0);\n        } else if (el.tagName !== undefined) {\n          _id = el.id;\n          _node = $(`#${_id}`).get(0);\n        }\n        return _node;\n      };\n\n      let loadJS = function (url,cb) {\n        let script = document.createElement('script');\n        script.onload = cb;\n        script.src = url;\n        $('head').appendChild(script);\n      };\n\n      let loadCSS = function (url) {\n        $('head').append('<link text=\"text/css\" href=\"' + url + '\" rel=\"Stylesheet\" />');\n      };\n      \n      let injectCode = `;const Loader = window.yepnope;let THIS = {\n        files: ${`[\"${files.join('\\\",\\\"')}\"]`},\n        vid: '${viewId}',\n        view: $axure('#${viewId}'),\n        $view: $axure('#${viewId}').$(),\n        rid: '${repId}',\n        repeater: $axure('#${repId}'),\n        $repeater: $('#${repId}'),\n        textarea: $axure('#${textAreaId}'),\n        $textarea: $('#${textAreaId}'),\n        $textareas: $('#${repId}').find('textarea'),\n        jsbox: $axure('#${jsboxId}'),\n        $jsbox: $axure('#${jsboxId}').$(),\n        shape: $axure('#${shapeId}'),\n        $shape: $axure('#${shapeId}').$(),\n        size: { width:${ $jsbox.width() }, height:${ $jsbox.height() } },\n        position: { x:${ $jsbox.position().left }, y:${ $jsbox.position().top } },\n        clearAllTextareas: ${formatInlineFunction(clearAllTextareas)},\n        getAllTextareas: ${formatInlineFunction(getAllTextareas)},\n        getTextarea: ${formatInlineFunction(getTextarea)},\n        getRepeater: ${formatInlineFunction(getRepeater)},\n        getView: ${formatInlineFunction(getView)},\n        setText: ${formatInlineFunction(setText)},\n        getText: ${formatInlineFunction(getText)},\n        setValues: ${formatInlineFunction(setValues)},\n        emit: ${formatInlineFunction(emit)},\n        getUserElements: ${formatInlineFunction(getUserElements)},\n        showUserElements: ${formatInlineFunction(showUserElements)},\n        getData: ${formatInlineFunction(getDataOnce)},\n        getDataOnce: ${formatInlineFunction(getDataOnce)},\n        getExtraData: ${formatInlineFunction(getExtraData)},\n        getLatestData: ${formatInlineFunction(getLatestData)},\n        deleteData: ${formatInlineFunction(deleteData)},\n        clearExtraData: ${formatInlineFunction(clearExtraData)},\n        clearData: ${formatInlineFunction(clearData)},\n        appendHTML: ${formatInlineFunction(appendHTML)},\n        setHTML: ${formatInlineFunction(setHTML)},\n        appendCSS: ${formatInlineFunction(appendCSS)},\n        showView: ${formatInlineFunction(showView)},\n        hideView: ${formatInlineFunction(hideView)},\n        setViewStyle: ${formatInlineFunction(setViewStyle)},\n        showLoading: ${formatInlineFunction(showLoading)},\n        hideLoading: ${formatInlineFunction(hideLoading)},\n        runScript: ${formatInlineFunction(runScript)},\n        getNode: ${formatInlineFunction(getNode)},\n        loadJS: ${formatInlineFunction(loadJS)},\n        loadCSS: ${formatInlineFunction(loadCSS)}\n      };\n      if(AxJsBox.instances){AxJsBox.instances.push(THIS);}\n      else if(AxJsBox.elements){AxJsBox.elements.push(THIS);}\n      `;\n      injectCode = injectCode.replace(/  /g, '').replace(/\\n/g, '');\n      injectCode = '\\/* inject begin *\\/\\n' + injectCode + '\\n\\/* inject end *\\/\\n\\n';\n      js = injectCode + js;\n      js = `(function(){\\n${js}\\n}());`;\n      \n      let jsType = getScriptTypeFromTextArea(jsLines);\n      let jsOrder = getScriptOrderFromTextArea(jsLines);\n      if (files.length === 0) {\n        finalAppend($view, js, jsType, jsOrder);\n      } else {\n        yepnope({\n          load: files,\n          complete: ()=>{\n            finalAppend($view, js, jsType, jsOrder);\n          }\n        });\n      }\n    });\n  }\n\n  function finalAppend(container, js, type, order) {\n    container.append(`<script class=\"jsbox-script\" type=\"${type}\" ${order}>${js}</script>`);\n    container.find('.ax-loading').hide();\n  }\n\n  function getAxLib(path, callback=function(){}) {\n    $.getScript(path, callback);\n  }\n\n  function getHostPath() {\n      let path = window.location.href;\n      let arr = path.split('/');\n      arr.pop();\n      path = arr.join('/');\n      return path;\n  }\n\n  function getDeploy(params) {\n      let { gval, defaultUrl } = params;\n      let deploy = '';\n      $axure.internal($ax=>{deploy=$ax.globalVariableProvider.getVariableValue(gval)});\n      if (deploy === '') { deploy = defaultUrl; }\n      if (deploy.indexOf('{host}')>-1) { deploy = deploy.replace('{host}', getHostPath()); }\n      return deploy;\n  }\n\n  function formatCode(code) {\n    // return code.replace(/ /gi, '').replace(/  +/g, ' ').replace(/\\s\\s+/g, ' ');\n\n    let pattern = '// @import ';\n    let lines = code.split('\\n');\n    lines = lines.map(line => {\n      if (line.startsWith('//import')) { return line.replace('//import', pattern); }\n      else if (line.startsWith('// import')) { return line.replace('// import', pattern); }\n      else if (line.startsWith('//@import')) { return line.replace('//@import', pattern); }\n      else if (line.startsWith('@import')) { return line.replace('@import', pattern); }\n      else { return line; }\n    });\n\n    let result = lines.join('\\n');\n    result = result.replace(/ /gi, '').replace(/  +/g, ' ').replace(/\\n +/g, '\\n').replace(/\\n\\n+/g, '\\n');\n\n    return result;\n  }\n\n  function addLoadingSvg(target, options) {\n    options = options || { color:'#D1D5DB', opacity:0.2, scale:1.2, delay:0, dur:1, blending:'difference' };\n\n    let svg = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" stroke=\"${options.color}\" style=\"transform:scale(${options.scale});\">\n        <g fill=\"none\" fill-rule=\"evenodd\">\n          <g transform=\"translate(1 1)\" stroke-width=\"2\">\n            <circle stroke-opacity=\"${options.opacity}\" cx=\"18\" cy=\"18\" r=\"18\"/>\n            <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n              <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"${options.dur}s\" repeatCount=\"indefinite\"/>\n            </path>\n          </g>\n        </g>\n      </svg>\n    `;\n\n    $('head').append(`\n      <style>\n        html, body { height: 100%; }\n        .ax-loading { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; z-index: 9999; mix-blend-mode:${options.blending}; pointer-events:none; transform: scale(.5); }\n        .ax-loading-svg { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }\n      </style>\n    `);\n    $(target).append(`<div class=\"ax-loading\"><div class=\"ax-loading-svg\">${svg}</div></div>`);\n\n    return svg;\n  }\n\n  function getFileListFromExtraData(data) {\n    let temp = $axure.formatRepeaterData(data, { format: 'row' });\n    temp = Object.keys(temp);\n    // 如果每一项都以 http 开头，那就是文件列表\n    return temp.filter(value => value.substr(0, 4) == 'http');\n  }\n\n  function getFileListFromTextArea(lines) {\n    let jsFiles = [];\n    \n    lines.forEach(line => {\n      let pattern = '// @import ';\n      if (line.startsWith(pattern)) {\n        if (line.includes('=')) {\n          jsFiles.push( line.replace(pattern, '').replace('=', '').replace(/\\s/g, '').replace(/\\'/g, '').replace(/\\\"/g, '') );\n        } else {\n          jsFiles.push( line.replace(pattern, '').replace(/\\s/g, '') );\n        }\n      }\n    });\n    return jsFiles;\n  }\n\n  function getScriptTypeFromTextArea(lines) {\n    let type = 'text/javascript';\n    lines.forEach(line => {\n      if (line === '//type module') {\n        type = 'module';\n      } else if (line.startsWith('//type')) {\n        line = line.replace(/\\s/g, '');\n        if (line === '//type=\"module\"' || line === '//type=\\'module\\'' || line === '//type=module') {\n          type = 'module';\n        }\n      }\n    });\n    return type;\n  }\n\n  function getScriptOrderFromTextArea(lines) {\n    let order = '';\n    lines.forEach(line => {\n      if (line === '//defer') {\n        order = 'defer';\n      } else if (line === '//async') {\n        order = 'async';\n      }\n    });\n    return order;\n  }\n\n  function cloneNode($node) {\n    let $clone = $node.clone();\n    $clone.children().remove();\n    $clone.data('label', '');\n    $clone.removeClass('ax_default');\n    $clone.addClass($clone.id() + '_clone');\n    $clone.id($clone.id() + '_jsbox_view');\n    $clone.css({\n      'display': 'flex',\n      'position': $node.css('position'),\n      'left': $node.css('left'),\n      'top': $node.css('top'),\n      'width': $node.css('width'),\n      'height': $node.css('height'),\n      'text-align': 'left',\n      'border-radius': $node.css('border-radius')\n    });\n    return $clone;\n  }\n\n  function escapeHTML(a){\n    a = \"\" + a;\n    return a.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&apos;\");;\n  }\n\n  function unescapeHTML(a){\n    a = \"\" + a;\n    return a.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&amp;/g, \"&\").replace(/&quot;/g, '\"').replace(/&apos;/g, \"'\");\n  }\n\n}());"],"names":["textInfo","expand","style","idx","item","func","text","arr","marker","action","target","alpha","pointerEvents","css","str","_els","wrapper","format","linesCount","_exData","el","_id","_node","url","cb","script","container","js","type","order","path","callback","params","gval","defaultUrl","deploy","$ax","code","pattern","lines","line","result","options","svg","data","temp","value","jsFiles","$node","$clone"],"mappings":"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"}